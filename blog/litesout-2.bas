10 'LIGHTSOUT.BAS
20 DIM L(4,4)
30 'START NEW GAME
40 INPUT "GAME NUMBER (1-1000)";A:A=RND(-A)
50 INPUT "LIGHTS ON (1-25)";L
60 FOR X=0 TO 4:FOR Y=0 TO 4:L(X,Y)=0:NEXT:NEXT
70 'RANDOMIZE
80 X=RND(5)-1:Y=RND(5)-1
90 IF L(X,Y) THEN 80
100 L(X,Y)=-1:LO=LO+1
110 IF LO<L THEN 80
120 PX=0:PY=0
130 'DRAW BOARD
140 CLS:FOR X=0 TO 4:FOR Y=0 TO 4:PRINT@X+Y*32,;:IF L(X,Y) THEN PRINT"X"; ELSE PRINT" ";
150 NEXT:NEXT
160 PRINT:PRINT LO
170 'PRINT PLAYER MARKER
180 L=PX+PY*32:PRINT@L,"*";:PRINT@L,;
190 A$=INKEY$
200 'PRINT LIGHT
210 IF L(PX,PY) THEN PRINT"X"; ELSE PRINT" ";
220 IF A$="" THEN 180
230 ON INSTR("*WASD ",A$) GOTO 190,240,270,300,330,360
240 'UP
250 PY=PY-1:IF PY <0 THEN PY=4
260 GOTO 180
270 'LEFT
280 PX=PX-1:IF PX<0 THEN PX=4
290 GOTO 180
300 'DOWN
310 PY=PY+1:IFP Y>4 THEN PY=0
320 GOTO 180
330 'DOWN
340 PX=PX+1:IF PX>4 THEN PX=0
350 GOTO 180
360 'TOGGLE LIGHT
370 L(PX,PY)=NOT L(PX,PY):LO=LO-((L(PX,PY)*2)+1)
380 IF PX>0 THEN L(PX-1,PY)=NOT L(PX-1,PY):LO=LO-((L(PX-1,PY)*2)+1)
390 IF PX<4 THEN L(PX+1,PY)=NOT L(PX+1,PY):LO=LO-((L(PX+1,PY)*2)+1)
400 IF PY>0 THEN L(PX,PY-1)=NOT L(PX,PY-1):LO=LO-((L(PX,PY-1)*2)+1)
410 IF PY<4 THEN L(PX,PY+1)=NOT L(PX,PY+1):LO=LO-((L(PX,PY+1)*2)+1)
420 GOTO 140
